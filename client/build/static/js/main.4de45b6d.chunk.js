(this["webpackJsonpxborder-frontend"]=this["webpackJsonpxborder-frontend"]||[]).push([[0],{1:function(e,t){e.exports={address:"0x0ea09dBF45047aD3C522435ffdEe4F5E08e18eC9",abi:[{constant:!0,inputs:[{name:"user",type:"address"}],name:"getCustomerLedgerLength",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fee",type:"uint256"}],name:"setEscrowFee",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"TransactionLedger",outputs:[{name:"customer",type:"address"},{name:"merchant",type:"address"},{name:"escrowAgent",type:"address"},{name:"value",type:"uint256"},{name:"escrowFee",type:"uint256"},{name:"status",type:"uint8"},{name:"notes",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"EscrowFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"user",type:"address"}],name:"getEscrowLedgerLength",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"txid",type:"uint256"}],name:"getTransaction",outputs:[{name:"customer",type:"address"},{name:"merchant",type:"address"},{name:"escrow",type:"address"},{name:"escrowFee",type:"uint256"},{name:"value",type:"uint256"},{name:"status",type:"uint8"},{name:"notes",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"uint256"}],name:"EscrowLedger",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"}],name:"releaseFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"}],name:"refundCustomer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"}],name:"raiseDispute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"user",type:"address"}],name:"getMerchantLedgerLength",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"uint256"}],name:"CustomerLedger",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_merchant",type:"address"},{name:"_escrowAgent",type:"address"},{name:"_notes",type:"string"}],name:"createPayment",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"Funds",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"uint256"}],name:"MerchantLedger",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"customer",type:"address"},{indexed:!0,name:"merchant",type:"address"},{indexed:!0,name:"escrowAgent",type:"address"},{indexed:!1,name:"id",type:"uint256"},{indexed:!1,name:"value",type:"uint256"}],name:"PaymentCreation",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"customer",type:"address"},{indexed:!0,name:"merchant",type:"address"},{indexed:!0,name:"escrowAgent",type:"address"},{indexed:!1,name:"id",type:"uint256"},{indexed:!1,name:"value",type:"uint256"},{indexed:!1,name:"status",type:"uint8"}],name:"PaymentCompletion",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"customer",type:"address"},{indexed:!0,name:"merchant",type:"address"},{indexed:!0,name:"escrowAgent",type:"address"},{indexed:!1,name:"id",type:"uint256"},{indexed:!1,name:"value",type:"uint256"}],name:"PaymentDispute",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"user",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}],escrowAddress:"0xC3B6eB22682d8D6620eb745e690E311d2dCCA0C2",profile_abi:[{constant:!1,inputs:[{name:"_name",type:"string"},{name:"_info",type:"string"}],name:"SetProfile",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"user",type:"address"}],name:"getProfileLength",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"uint256"}],name:"ProfileDB",outputs:[{name:"name",type:"string"},{name:"info",type:"string"}],payable:!1,stateMutability:"view",type:"function"}],profile_address:"0x6Fb62221Dd1DD8d2f8CF50714d403148913a09B9",page_size:5}},102:function(e,t,a){e.exports=a.p+"static/media/getmeta.885082cf.png"},104:function(e,t,a){e.exports=a(214)},110:function(e,t,a){},176:function(e,t){},178:function(e,t){},19:function(e,t,a){},198:function(e,t,a){e.exports=a.p+"static/media/cover.1a378309.png"},214:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(42),l=a.n(s),c=a(70),o=a.n(c),i=a(94),m=a(3),u=a(4),d=a(6),h=a(5),p=a(8),E=a(13),f=(a(19),a(110),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={display:0},n}return Object(u.a)(a,[{key:"render",value:function(){var e,t=[];if("sent"===this.props.type)for(var a=0;a<this.props.customerLedger.length;a++){var n="/activity/transaction/buyer/".concat(this.props.customerLedger[a].id);t.push(r.a.createElement("tr",{key:this.props.customerLedger[a].id},r.a.createElement("td",null,this.props.customerLedger[a].id),r.a.createElement("td",null,r.a.createElement(p.b,{to:n},"Payment to ",this.props.customerLedger[a].sellerName),r.a.createElement("p",{className:"is-size-7"},this.props.customerLedger[a].Receiver),this.props.customerLedger[a].status),r.a.createElement("td",null,this.props.customerLedger[a].value," ETH")))}else for(var s=0;s<this.props.merchantLedger.length;s++){var l="/activity/transaction/Receiver/".concat(this.props.merchantLedger[s].id);t.push(r.a.createElement("tr",{key:this.props.merchantLedger[s].id},r.a.createElement("td",null,this.props.merchantLedger[s].id),r.a.createElement("td",null,r.a.createElement(p.b,{to:l},"Payment from ",this.props.merchantLedger[s].buyerName),r.a.createElement("p",{className:"is-size-7"},this.props.merchantLedger[s].buyer),this.props.merchantLedger[s].status),r.a.createElement("td",null,this.props.merchantLedger[s].value," ETH")))}return e="sent"===this.props.type?"Transaction History (Sent)":"Transaction History (Received)",r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,e))))),r.a.createElement("br",null),r.a.createElement("table",{className:"table is-fullwidth is-hoverable is-striped"},r.a.createElement("thead",null,r.a.createElement("td",null,"Txid"),r.a.createElement("td",null,"Info"),r.a.createElement("td",null,"Amount")),r.a.createElement("tfoot",null),r.a.createElement("tbody",null,t)))}}]),a}(n.Component)),b=a(10),v=a.n(b),g=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={address:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(window.ethereum){var t=new v.a(window.ethereum);try{window.ethereum.enable().then((function(){e.setState({address:t.eth.accounts[0]}),setInterval((function(){t.eth.accounts[0]!==e.state.address&&window.location.reload()}),100)}))}catch(a){}}else window.location.href="/login"}},{key:"render",value:function(){var e="/profile?address=".concat(this.state.address);return r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),r.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(p.b,{to:"/dashboard"},r.a.createElement("p",{className:"navbar-item"},"Dashboard")),r.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},r.a.createElement(p.b,{to:e},r.a.createElement("p",{className:"navbar-link"},"View Profile")),r.a.createElement("div",{className:"navbaAnonymous3256r-dropdown"},r.a.createElement(p.b,{to:"/activity/set_profile",className:"navbar-item"},"Update Profile"))),r.a.createElement(p.b,{to:"/activity/send_payment"},r.a.createElement("p",{className:"navbar-item"},"Send Payment"))),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement(y,{address:this.state.address})),r.a.createElement(p.b,{to:"/"},r.a.createElement("p",{className:"navbar-item"},"Logout")))))}}]),a}(n.Component),y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar-item"},this.props.address)}}]),a}(n.Component),N=a(1),w=a.n(N),x=["Funds In Escrow","Funds Released","Refunded","Awaiting Resolution"],k=(new v.a(window.ethereum),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("button",null,this.props.text)}}]),a}(n.Component)),L={returnTxMap:function(e,t){return{id:parseInt(e),buyer:t[0],Receiver:t[1],escrow:t[2],fee:t[3]/Math.pow(10,18),value:t[4]/Math.pow(10,18),status:x[parseInt(t[5])],notes:t[6]}},sortTx:function(e){return e.sort((function(e,t){return e.id-t.id}))},txTemplate:function(){return{id:"",buyer:"",Receiver:"",escrow:"",fee:"",value:"",status:"",notes:""}},status:function(){return x},statusButton:function(e,t,a){return r.a.createElement(k,{text:"aaa"})}},O=(n.Component,a(61)),S=a.n(O),j=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={address:"",balance:0,customerLedger:[],merchantLedger:[],customerLedgerLength:0,merchantLedgerLength:0,funds:0,profileName:"Loading...",profileInfo:"Loading...",customerLedgerName:[],merchantLedgerName:[],customerStart:0,merchantStart:0,customerEnd:0,merchantEnd:0,sentid:null,receiveid:null},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(window.location.search),a=t.get("sent"),n=t.get("receive");t.get("popup");if(console.log(a),this.setState({sentid:a,receiveid:n}),window.ethereum){var r=new v.a(window.ethereum);try{window.ethereum.enable().then((function(){var t=r.eth.contract(w.a.abi).at(w.a.address),s=r.eth.contract(w.a.profile_abi).at(w.a.profile_address);e.setState({address:r.eth.accounts[0],contract:t,profile_contract:s}),r.eth.getBalance(r.eth.accounts[0],(function(t,a){e.setState({balance:r.fromWei(a,"ether").toNumber()})})),s.getProfileLength.call(r.eth.accounts[0],(function(t,a){0!==parseInt(a)?s.ProfileDB.call(r.eth.accounts[0],a-1,(function(t,a){e.setState({profileName:a[0],profileInfo:a[1]})})):e.setState({profileName:"Empty",profileInfo:""})})),t.EscrowFee.call(r.eth.accounts[0],(function(t,a){e.setState({fee:a/10})})),t.Funds.call(r.eth.accounts[0],(function(t,a){e.setState({funds:a/Math.pow(10,18)})})),e.state.contract.getCustomerLedgerLength.call(r.eth.accounts[0],(function(t,n){var r;null!==a&&parseInt(a)<parseInt(n)?(console.log(a),e.setState({customerLedgerLength:parseInt(n),customerStart:parseInt(a)}),r=parseInt(a)):(e.setState({customerLedgerLength:parseInt(n),customerStart:parseInt(n)-1}),r=parseInt(n)-1),e.loadCustomerLedger(r)})),t.getMerchantLedgerLength.call(r.eth.accounts[0],(function(t,a){null!==n&&parseInt(n)<parseInt(a)?e.setState({merchantLedgerLength:parseInt(a),merchantStart:parseInt(n)}):e.setState({merchantLedgerLength:parseInt(a),merchantStart:parseInt(a)-1}),e.loadMerchantLedger()})),setInterval((function(){r.eth.accounts[0]!==e.state.address&&(window.location.href="/dashboard")}),100)}))}catch(s){}}else window.location.href="/login"}},{key:"loadMerchantLedger",value:function(){var e=this,t=new v.a(window.ethereum);this.setState({merchantEnd:this.state.merchantStart+1-w.a.page_size<0?0:this.state.merchantStart+1-w.a.page_size}),this.setState({merchantLedger:[],merchantLedgerName:[]});for(var a=function(a){e.state.contract.MerchantLedger.call(t.eth.accounts[0],a,(function(t,n){e.state.contract.getTransaction.call(n,(function(t,n){var r=L.returnTxMap(a,n),s=e.state.merchantLedger;s.push(r),s.length===1+e.state.merchantStart-e.state.merchantEnd&&(e.setState({merchantLedger:s}),console.log("load name"+s.length),e.loadBuyerUserNames())}))}))},n=this.state.merchantStart;n>=this.state.merchantEnd;n--)a(n)}},{key:"loadCustomerLedger",value:function(e){var t=this,a=new v.a(window.ethereum);this.setState({customerEnd:e+1-w.a.page_size<0?0:this.state.customerStart+1-w.a.page_size});var n=e+1-w.a.page_size<0?0:this.state.customerStart+1-w.a.page_size;console.log(e),console.log(n),this.setState({customerLedger:[],customerLedgerName:[]});for(var r=function(r){t.state.contract.CustomerLedger.call(a.eth.accounts[0],r,(function(a,s){t.state.contract.getTransaction.call(s,(function(a,s){var l=L.returnTxMap(r,s),c=t.state.customerLedger;c.push(l),c.length===1+e-n&&(t.setState({customerLedger:c}),console.log("load name"+c.length),t.loadSellerUserNames())}))}))},s=e;s>=n;s--)r(s)}},{key:"loadBuyerUserNames222",value:function(){var e=this;console.log("transact len"+this.state.merchantLedger.length);for(var t=function(t){e.state.profile_contract.getProfileLength.call(e.state.merchantLedger[t].Receiver,(function(a,n){if(0===parseInt(n)){e.state.merchantLedger[t].sellerName="";var r=e.state.merchantLedgerName.push(e.state.merchantLedger[t]);console.log(r)}else e.state.profile_contract.ProfileDB.call(e.state.merchantLedger[t].Receiver,n-1,(function(a,n){e.state.merchantLedger[t].sellerName=n[0];var r=e.state.merchantLedgerName;if(r.push(e.state.merchantLedger[t]),e.setState({merchantLedgerName:r}),console.log("setname runs"),e.state.merchantLedgerName.length===e.state.merchantLedger.length){var s=S.a.sortBy(e.state.merchantLedgerName,"id").reverse();e.setState({merchantLedgerName:s})}}))}))},a=0;a<this.state.merchantLedger.length;a++)t(a)}},{key:"loadSellerUserNames",value:function(){var e=this;console.log("transact len"+this.state.customerLedger.length);for(var t=function(t){e.state.profile_contract.getProfileLength.call(e.state.customerLedger[t].Receiver,(function(a,n){if(0===parseInt(n)){e.state.customerLedger[t].sellerName="";var r=e.state.customerLedgerName.push(e.state.customerLedger[t]);console.log(r)}else e.state.profile_contract.ProfileDB.call(e.state.customerLedger[t].Receiver,n-1,(function(a,n){e.state.customerLedger[t].sellerName=n[0];var r=e.state.customerLedgerName;if(r.push(e.state.customerLedger[t]),e.setState({customerLedgerName:r}),console.log("setname runs"),e.state.customerLedgerName.length===e.state.customerLedger.length){var s=S.a.sortBy(e.state.customerLedgerName,"id").reverse();e.setState({customerLedgerName:s})}}))}))},a=0;a<this.state.customerLedger.length;a++)t(a)}},{key:"loadBuyerUserNames",value:function(){for(var e=this,t=function(t){e.state.profile_contract.getProfileLength.call(e.state.merchantLedger[t].buyer,(function(a,n){if(0===parseInt(n)){e.state.merchantLedger[t].buyerName="";var r=e.state.merchantLedgerName.push(e.state.merchantLedger[t]);console.log(r)}else e.state.profile_contract.ProfileDB.call(e.state.merchantLedger[t].buyer,n-1,(function(a,n){e.state.merchantLedger[t].buyerName=n[0];var r=e.state.merchantLedgerName;if(r.push(e.state.merchantLedger[t]),e.setState({merchantLedgerName:r}),e.state.merchantLedgerName.length===e.state.merchantLedger.length){var s=S.a.sortBy(e.state.merchantLedgerName,"id").reverse();e.setState({merchantLedgerName:s})}}))}))},a=0;a<this.state.merchantLedger.length;a++)t(a)}},{key:"render",value:function(){var e,t,a,n,s=this;e=this.state.customerStart-w.a.page_size<=0?this.state.customerStart:this.state.customerStart-w.a.page_size,t=this.state.customerStart+w.a.page_size>=this.state.customerLedgerLength?this.state.customerLedgerLength-1:this.state.customerStart+w.a.page_size,a=this.state.merchantStart-w.a.page_size<=0?this.state.merchantStart:this.state.merchantStart-w.a.page_size,n=this.state.merchantStart+w.a.page_size>=this.state.merchantLedgerLength?this.state.merchantLedgerLength-1:this.state.merchantStart+w.a.page_size;var l="/dashboard?sent=".concat(e,"&receive=").concat(this.state.merchantStart),c="/dashboard?sent=".concat(t,"&receive=").concat(this.state.merchantStart),o="/dashboard?receive=".concat(a,"&sent=").concat(this.state.customerStart),i="/dashboard?receive=".concat(n,"&sent=").concat(this.state.customerStart);return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container",style:{width:960}},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-one-third"},r.a.createElement(C,{balance:this.state.balance}),r.a.createElement(I,{funds:this.state.funds,contract:this.state.contract,address:this.state.address}),r.a.createElement(T,{profileName:this.state.profileName,profileInfo:this.state.profileInfo,address:this.state.address}),r.a.createElement(P,{disabled:"Empty"===this.state.profileName})),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"box"},r.a.createElement(f,{customerLedger:this.state.customerLedgerName,merchantLedger:this.state.merchantLedgerName,type:"sent"}),r.a.createElement("br",null),r.a.createElement("nav",{className:"pagination is-centered is-small",role:"navigation","aria-label":"pagination"},r.a.createElement(p.b,{to:c,onClick:function(){setTimeout((function(){s.componentDidMount()}),100)}},r.a.createElement("a",{className:"pagination-previous"},"Previous")),r.a.createElement(p.b,{to:l,onClick:function(){setTimeout((function(){s.componentDidMount()}),100)}},r.a.createElement("a",{className:"button pagination-next"},"Next page")))),r.a.createElement("div",{className:"box"},r.a.createElement(f,{customerLedger:this.state.customerLedgerName,merchantLedger:this.state.merchantLedgerName,type:"received"}),r.a.createElement("br",null),r.a.createElement("nav",{className:"pagination is-centered is-small",role:"navigation","aria-label":"pagination"},r.a.createElement(p.b,{to:i,onClick:function(){setTimeout((function(){s.componentDidMount()}),100)}},r.a.createElement("a",{className:"pagination-previous"},"Previous")),r.a.createElement(p.b,{to:o,onClick:function(){setTimeout((function(){s.componentDidMount()}),100)}},r.a.createElement("a",{className:"pagination-next"},"Next page")))))))))}}]),a}(n.Component),T=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e="/profile?address=".concat(this.props.address);return r.a.createElement("div",{className:"box"},r.a.createElement("p",{className:"is-size-4 has-text-weight-semibold"},"Your Profile"),r.a.createElement("br",null),r.a.createElement("p",null,this.props.profileName),r.a.createElement("p",null,this.props.profileInfo),r.a.createElement("br",null),r.a.createElement("p",{className:"buttons is-centered"},r.a.createElement(p.b,{to:"/activity/set_profile"},r.a.createElement("p",{className:"button is-primary"},"Update Profile")),"\xa0",r.a.createElement(p.b,{to:e},r.a.createElement("p",{className:"button is-primary"},"View Profile"))))}}]),a}(n.Component),C=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"box"},r.a.createElement("p",{className:"is-size-4 has-text-weight-semibold"},"Address Balance"),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-3"},r.a.createElement("a",{className:"has-text-dark",href:"#",title:this.props.balance},+this.props.balance.toFixed(10))," ETH"),r.a.createElement("br",null))}}]),a}(n.Component),I=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"box"},r.a.createElement("p",{className:"is-size-4 has-text-weight-semibold"},"XBORDER Funds"),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-3"},r.a.createElement("a",{className:"has-text-dark",href:"#",title:this.props.funds},+this.props.funds.toFixed(10))," ETH"),r.a.createElement("br",null),r.a.createElement("a",{className:"button is-primary",onClick:function(){e.props.contract.withdraw.sendTransaction({from:e.props.address,gas:35e4,gasPrice:88e9},(function(e,t){}))}},"Withdraw Funds"))}}]),a}(n.Component),P=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return!0===this.props.disabled?r.a.createElement("div",{className:"box"},r.a.createElement("p",{className:"is-size-4 has-text-weight-semibold"},"Payments"),r.a.createElement("br",null),r.a.createElement("p",null,"Send payment for goods or services with Senderprotection."),r.a.createElement("br",null),r.a.createElement(p.b,{to:"/activity/send_payment"},r.a.createElement("button",{className:"button is-primary",disabled:!0},"Send Payment")),r.a.createElement("p",{className:"is-size-7"},"Please set your profile info to use XBORDER")):r.a.createElement("div",{className:"box"},r.a.createElement("p",{className:"is-size-4 has-text-weight-semibold"},"Payments"),r.a.createElement("br",null),r.a.createElement("p",null,"Send payment for goods or services with Senderprotection."),r.a.createElement("br",null),r.a.createElement(p.b,{to:"/activity/send_payment"},r.a.createElement("p",{className:"button is-primary"},"Send Payment")))}}]),a}(n.Component),R=(n.Component,j),A=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={buyerName:"",sellerName:"",escrowName:"",transact:L.txTemplate(),txid:0,buyerTxCount:"",sellerTxCount:"",escrowTxCount:"",ledgerid:0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(console.log(this.props.match.params.id),this.setState({txid:this.props.match.params.id,type:this.props.match.params.type}),window.ethereum){var t=new v.a(window.ethereum);try{window.ethereum.enable().then((function(){var a=t.eth.contract(w.a.abi).at(w.a.address),n=t.eth.contract(w.a.profile_abi).at(w.a.profile_address);e.setState({address:t.eth.accounts[0],contract:a,user_contract:n}),console.log(t.eth.accounts[0]),console.log(e.props.match.params.id),a.CustomerLedger.call(t.eth.accounts[0],e.props.match.params.id,(function(t,n){a.getTransaction.call(n,(function(t,a){console.log(a);var r=L.returnTxMap(n,a);e.setState({transact:r,ledgerid:n}),console.log(r),e.loadProfileName("buyer",r.buyer),e.loadProfileName("Receiver",r.Receiver),e.loadProfileName("escrow",r.escrow),e.loadCount(r.buyer,r.Receiver,r.escrow)}))})),setInterval((function(){t.eth.accounts[0]!==e.state.address&&window.location.reload()}),100)}))}catch(a){}}else window.location.href="/login"}},{key:"loadProfileName",value:function(e,t){var a=this;this.state.user_contract.getProfileLength.call(t,(function(n,r){0!==parseInt(r)&&a.state.user_contract.ProfileDB.call(t,r-1,(function(t,n){switch(e){case"buyer":a.setState({buyerName:n});break;case"Receiver":a.setState({sellerName:n});break;case"escrow":a.setState({escrowName:n})}}))}))}},{key:"loadCount",value:function(e,t,a){var n=this;this.state.contract.getCustomerLedgerLength.call(e,(function(e,t){n.setState({buyerTxCount:parseInt(t)})})),this.state.contract.getMerchantLedgerLength.call(t,(function(e,t){n.setState({sellerTxCount:parseInt(t)})})),this.state.contract.getEscrowLedgerLength.call(a,(function(e,t){n.setState({escrowTxCount:parseInt(t)})}))}},{key:"render",value:function(){var e;console.log(this.state.txid),e="buyer"===this.state.type?r.a.createElement(B,{contract:this.state.contract,address:this.state.address,ledgerid:this.state.ledgerid,transact:this.state.transact}):r.a.createElement(M,{contract:this.state.contract,address:this.state.address,ledgerid:this.state.ledgerid,transact:this.state.transact});var t="/profile?address=".concat(this.state.transact.buyer),a="/profile?address=".concat(this.state.transact.Receiver);return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container",style:{width:790}},r.a.createElement("a",{className:"has-text-left",onClick:function(){return window.history.back()}},"\u2190 Back to Dashboard")),r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:800}},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Transaction Details"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Payment sent 08/6/2020 11:56am")))),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-centered is-size-3"},this.state.transact.value," ETH"),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-left"},r.a.createElement("b",null,"Payment from"),r.a.createElement("p",null,this.state.buyerName[0]),r.a.createElement("p",null,this.state.buyerTxCount," completed payments")),r.a.createElement("div",{className:"column is-narrow"},r.a.createElement("br",null),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-arrow-right"}))),r.a.createElement("div",{className:"column has-text-right"},r.a.createElement("b",null,"Payment to"),r.a.createElement("p",null,this.state.sellerName[0]),r.a.createElement("p",null,this.state.sellerTxCount," completed transactions"))),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("b",null,"Escrowed By"),r.a.createElement("p",null,this.state.escrowName[0]),r.a.createElement("p",null,this.state.escrowTxCount," transactions escrowed")),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement(p.b,{to:t},r.a.createElement("p",{className:"button is-primary"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"far fa-user"})),r.a.createElement("span",null,"View SenderProfile"))),"\xa0",r.a.createElement(p.b,{to:a},r.a.createElement("p",{className:"button is-primary"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"far fa-user"})),r.a.createElement("span",null,"View Receiver Profile")))),r.a.createElement("hr",null),r.a.createElement("b",null,"Payment Details"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:150}},"Gross Amount"),r.a.createElement("td",null,this.state.transact.value," ETH")),r.a.createElement("tr",null,r.a.createElement("th",null,"Fee"),r.a.createElement("td",null,this.state.transact.fee," ETH")),r.a.createElement("tr",null,r.a.createElement("th",null,"Net amount"),r.a.createElement("td",null,this.state.transact.value-this.state.transact.fee," ETH")),r.a.createElement("tr",null,r.a.createElement("th",null,"Note from buyer"),r.a.createElement("td",null,this.state.transact.notes)))),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-left"},"Transaction Status"),r.a.createElement("br",null),r.a.createElement("p",{className:"buttons is-centered"},r.a.createElement("button",{className:"button is-primary is-large"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-plane"})),r.a.createElement("span",null,this.state.transact.status))),r.a.createElement("hr",null),e)))}}]),a}(n.Component),M=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",{className:"has-text-left"},"Transaction Action"),r.a.createElement("br",null),r.a.createElement("p",{className:"buttons is-centered"},r.a.createElement(D,{contract:this.props.contract,address:this.props.address,txid:this.props.ledgerid,transact:this.props.transact}),r.a.createElement(z,{contract:this.props.contract,address:this.props.address,txid:this.props.ledgerid,transact:this.props.transact})))}}]),a}(n.Component),B=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",{className:"has-text-left"},"Transaction Action"),r.a.createElement("br",null),r.a.createElement("p",{className:"buttons is-centered"},r.a.createElement(_,{contract:this.props.contract,address:this.props.address,txid:this.props.ledgerid,transact:this.props.transact}),r.a.createElement(z,{contract:this.props.contract,address:this.props.address,txid:this.props.ledgerid,transact:this.props.transact})))}}]),a}(n.Component),_=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"releaseFunds",value:function(){var e=new v.a(window.ethereum).eth.contract(w.a.abi).at(w.a.address);console.log(this.props.txid),e.releaseFunds.sendTransaction(this.props.txid,{from:this.props.address,gas:35e4,gasPrice:88e9},(function(e,t){console.log(t)}))}},{key:"render",value:function(){return this.props.transact.status===L.status()[0]||this.props.transact.status===L.status()[3]?r.a.createElement("button",{className:"button is-primary",onClick:this.releaseFunds.bind(this)},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-dollar-sign"})),r.a.createElement("span",null,"Release Funds")):r.a.createElement("button",{className:"button is-primary",disabled:!0},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-dollar-sign"})),r.a.createElement("span",null,"Release Funds"))}}]),a}(n.Component),D=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"refund",value:function(){var e=new v.a(window.ethereum).eth.contract(w.a.abi).at(w.a.address);console.log(this.props.txid),e.refundCustomer.sendTransaction(this.props.txid,{from:this.props.address},(function(e,t){console.log(t)}))}},{key:"render",value:function(){return this.props.transact.status===L.status()[0]||this.props.transact.status===L.status()[3]?r.a.createElement("a",{className:"button is-primary",onClick:this.refund.bind(this)},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-dollar-sign"})),r.a.createElement("span",null,"Refund Buyer")):r.a.createElement("a",{className:"button is-primary",disabled:!0},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-dollar-sign"})),r.a.createElement("span",null,"Refund Buyer"))}}]),a}(n.Component),z=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"raiseDispute",value:function(){var e=new v.a(window.ethereum).eth.contract(w.a.abi).at(w.a.address);console.log(this.props.txid),e.raiseDispute.sendTransaction(this.props.txid,{from:this.props.address},(function(e,t){console.log(t)}))}},{key:"render",value:function(){return this.props.transact.status===L.status()[0]||this.props.transact.status===L.status()[3]?r.a.createElement("a",{className:"button is-info",onClick:this.raiseDispute.bind(this)},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-phone"})),r.a.createElement("span",null,"Raise Dispute")):r.a.createElement("a",{className:"button is-info",disabled:!0},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-phone"})),r.a.createElement("span",null,"Raise Dispute"))}}]),a}(n.Component),F=a(24),H=a(25),U=a(43),X=a(101),W=a(57),q=a(56),Y=a(100),V=a(73),$=a(103);function G(){var e=Object(F.a)(["\nwidth: 12rem ;\nheight: auto;\n"]);return G=function(){return e},e}function J(){var e=Object(F.a)(["\nbox-shadow: inset 0px -1px 0px #f3f3f4;\nbackground: #002C73;\nheight: 60px ;\ncolor: #6e6d7a ;\nposition: sticky ;\n\n@media (max-width: 992px) {\n  & {\n    position: static;\n    height: 60px ;\n  }\n}\n\n\n"]);return J=function(){return e},e}var K=Object(H.b)(V.a)(J()),Q=Object(H.b)(q.a)(G());function Z(){return r.a.createElement(K,{expand:"lg"},r.a.createElement(W.a,null,r.a.createElement(V.a.Brand,{className:"mr-auto",href:"/"},r.a.createElement(Q,{src:a(198),alt:"logo"})),r.a.createElement($.a,null,r.a.createElement(Y.a,{className:"d-none d-lg-block d-xl-block ml-3 ",variant:"primary"},r.a.createElement(U.a,{href:"/"},"Home"),r.a.createElement(U.a,{href:"/info"},"Info"),r.a.createElement(U.a,{href:"/login"},"Connect")))))}var ee=a(21);function te(){var e=Object(F.a)(["\ncolor: #9e9ea7;\n\n& a {\n  color: #9e9ea7;\n}\n"]);return te=function(){return e},e}function ae(){var e=Object(F.a)(["\n@media (max-width: 576px) {\n  max-width: 100%;\n}\n@media (min-width: 576px) {\n  width: 400px;\n}\n@media (min-width: 768px) {\n  width: 450px;\n}\n@media (min-width: 1200px) {\n  width: 100%;\n}\n"]);return ae=function(){return e},e}function ne(){var e=Object(F.a)(["\ndisplay: flex;\nflex-flow: column-reverse;\nalign-items: center;\n\n@media (min-width: 992px) {\n  & {\n    flex-flow: row;\n  }\n}\n"]);return ne=function(){return e},e}function re(){var e=Object(F.a)(["\nbackground: #f9f8fd;\n"]);return re=function(){return e},e}var se=Object(H.b)(X.a)(re()),le=Object(H.b)(W.a)(ne()),ce=Object(H.b)(q.a)(ae()),oe=H.b.p(te());function ie(){return r.a.createElement("section",null,r.a.createElement(me,null),r.a.createElement(de,null),r.a.createElement(he,null),r.a.createElement(ue,null),r.a.createElement(fe,null),r.a.createElement(Ee,null),r.a.createElement(pe,null))}var me=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(se,{fluid:!0},r.a.createElement(le,{className:"d-flex align-items-center text-center text-lg-left"},r.a.createElement("div",{id:"text-container"},r.a.createElement("h1",{className:"display-4 font-weight-bold"},"The distinguished decentralized platform for cross-border transfers"),r.a.createElement("p",{className:"lead font-weight-normal"},"XBORDER enables international money transfer through the use of decentralized Chainlink oracles providing data for Ethereum smart contracts."),r.a.createElement(U.a,{variant:"primary",size:"lg",role:"button",href:"/login"},"Connect using Metamask")),r.a.createElement("div",{id:"image-container",className:"ml-md-5"},r.a.createElement(ce,{src:"https://chain.link/assets/images/payments-api-diagram-e6ec6879.png",alt:"diagram"}),r.a.createElement(oe,{className:"text-center text-lg-right my-3"},"Source"," ",r.a.createElement("a",{href:"https://chain.link/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("u",null,"Chainlink"))))))}}]),a}(n.Component),ue=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"content has-text-centered"},r.a.createElement("h1",null,"Benefits of XBORDER")),r.a.createElement("div",{className:"columns features"},r.a.createElement("div",{className:"column is-4"},r.a.createElement("div",{className:"card is-shady"},r.a.createElement("div",{className:"card-image has-text-centered"}),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",null,"Secure Payments"),r.a.createElement("p",null,"Money transfer using Ether will make remittance payment safer than ever. Unlike normal normal remittance payments, payments are held in escrow using an Ethereum smart contract.",r.a.createElement("br",null),r.a.createElement("br",null),"Funds from transactions are released when the system is absolutely sure it can make the transactions."))))),r.a.createElement("div",{className:"column is-4"},r.a.createElement("div",{className:"card is-shady"},r.a.createElement("div",{className:"card-image has-text-centered"}),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",null,"No bank account need"),r.a.createElement("p",null,"Another key obstacle to the payment of remittances via formal banking channels is that the recipient needs to have a banking account to receive the payment. ",r.a.createElement("br",null),r.a.createElement("br",null),"The unfortunate reality is that the vast majority of people receiving the money do not have bank accounts. Even if they do, many live in rural areas and have to travel long distances to get to the nearest bank branch to collect their money.  As a result, many remittances are made using informal channels.",r.a.createElement("br",null),r.a.createElement("br",null)))))),r.a.createElement("div",{className:"column is-4"},r.a.createElement("div",{className:"card is-shady"},r.a.createElement("div",{className:"card-image has-text-centered"}),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",null,"Maximum security with minimised costs"),r.a.createElement("p",null,"Exclusion of third parties reduces cost of processing payment and turnaround time for settlement (TAT), also eliminating the risk of discrepancies in record keeping. This is because the decentralised ledger, a feature of Blockchain inherited by smart contracts, holds irreversible and distributed record of every transaction available for all peers to see\u2014enabling real time security",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))))))),r.a.createElement("br",null))}}]),a}(n.Component),de=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("div",{className:"columns is-vcentered is-centered"},r.a.createElement("div",{className:"column is-7"},r.a.createElement("h1",{className:"title is-3"},"About XBORDER"),r.a.createElement("h2",{className:"subtitle is-5"}),r.a.createElement("p",null,"XBORDER is the world's first cross-border payment processor built on Ethereum smart contracts. This application leverage blockchain technology to minimise cost of international money transfer whilst providing highest security standards.")))))}}]),a}(n.Component),he=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("div",{className:"columns is-vcentered is-centered"},r.a.createElement("div",{className:"column is-7"},r.a.createElement("h1",{className:"title is-2"},"Intuitive dashboard"),r.a.createElement("figure",{className:"ml-md-5"},r.a.createElement("img",{width:"100%",src:"https://chain.link/assets/images/sub-hero-chainlink-diagram-3fb7d8e9.png",alt:""})),r.a.createElement("br",null),r.a.createElement("p",null,"  XBORDER is designed to be simple and intuitive for users familar with traditional payment processors, such as Paypal and Stripe. Currently we support ETH payments, and stablecoin payments are coming soon.",r.a.createElement("br",null),r.a.createElement("br",null),"You can also test sending and receiving of payments on the Ropsten testnet."),r.a.createElement("br",null),r.a.createElement("p",{className:"buttons is-centered"},r.a.createElement(p.b,{to:"/login",className:" button is-info is-outlined"},"View Dashboard")),r.a.createElement("p",{className:"is-size-7"},"Login with ",r.a.createElement("a",{href:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",target:"_blank"},"metamask")," to view the dashboard. No signup required.")))))}}]),a}(n.Component),pe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-body bg-lb"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("h1",{className:"title is-3"},"Contact Us"),r.a.createElement("p",null,"Feel free to reach out if you have any questions, feedback or suggestion. Reach us on my social media: "),r.a.createElement("br",null),r.a.createElement("p",{className:"buttons is-centered"},r.a.createElement(ee.SocialMediaIconsReact,{icon:"reddit",size:44,roundness:30,url:"https://www.reddit.com/r/XBORDER"}),r.a.createElement(ee.SocialMediaIconsReact,{icon:"twitter",size:44,roundness:30,url:"https://twitter.com/XBORDER5"}),r.a.createElement(ee.SocialMediaIconsReact,{icon:"mail",size:44,roundness:30,url:"mailto:xborderofficial@gmail.com"}),r.a.createElement(ee.SocialMediaIconsReact,{icon:"linkedin",size:44,roundness:30,url:"https://www.linkedin.com/in/-muhammadhamza"}),r.a.createElement(ee.SocialMediaIconsReact,{icon:"github",size:44,roundness:30,url:"https://github.com/hamza3256"})),r.a.createElement("br",null),r.a.createElement("b",null,"Email"),r.a.createElement("br",null)," xborderofficial@gmail.com",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Reddit"),r.a.createElement("br",null),"https://www.reddit.com/r/XBORDER",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Twitter"),r.a.createElement("br",null),"https://twitter.com/XBORDER5",r.a.createElement("br",null),r.a.createElement("br",null)))}}]),a}(n.Component),Ee=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("h1",{className:"title is-3"},"Developers Section"),r.a.createElement("p",null,"View our open sourced smart contracts and technical documents."),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("b",null,"XBORDER Profile"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://rinkeby.etherscan.io/address/0xbB5A380E585155592Ff33dF4c50E9ff9921dC4df"},"Rinkeby "),"| ",r.a.createElement("a",{href:"https://ropsten.etherscan.io/address/0xebEc2EAf1325bCbd0Df07cdeae57aE00bD3C6728",target:"_blank"},"Ropsten")),r.a.createElement("br",null)))}}]),a}(n.Component),fe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-body bg-lb"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column is-7"},r.a.createElement("h1",{className:"title is-3"},"How XBORDER Works"),r.a.createElement("p",null,"XBORDER initally set out to be a platform which enables cross-border payment transfers from any fiat currency, converting to Ether then transferring those Ethers to receiver's wallet. The received Ethers are then converted into a different fiat currency corresponding to the receiver.",r.a.createElement("br",null),r.a.createElement("br",null),"The transaction involves holding Ethers in escrow in the Ethereum smart contract. When the necessary checks are performed to ensure that the Ethers can be converted without any problems, the Ethers are release onto the subsequent part of the operation. The Receiver also has the ability to refund the buyer.",r.a.createElement("br",null),r.a.createElement("br",null),"If a dispute occurs, the transaction immediately stops and Ethers are held at the current place of where the error occurred. For further information on how this application works, please visit our ",r.a.createElement(p.b,{to:"/login"},"info page"),"."))),r.a.createElement("br",null),r.a.createElement("img",{src:"https://hackernoon.com/photos/81XqUPpcXvVvRMiScfSezcRqKy33-572349p",width:"800"}),r.a.createElement("br",null)))}}]),a}(n.Component),be=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("section",{class:"hero is-info"},r.a.createElement("div",{class:"hero-body"},r.a.createElement("div",{class:"container"},r.a.createElement("h1",{class:"title"},"More information"),r.a.createElement("h2",{class:"subtitle"},"How XBORDER was intended to work")))),r.a.createElement("div",{class:"content container",style:{width:800}},r.a.createElement("br",null),r.a.createElement("h1",null,"Main idea"),r.a.createElement("p",null,"This project began with the intention of implementing smart contracts which would have enabled peer-to-peer fiat transfers outside the current jurisdiction of the smart contract caller. The transaction was planned to involve series of processes that includes Fiat-Ether conversion, peer-to-peer Ether transfers, subsequently converting the received Ether into receiver\u2019s fiat currency. This decentralized application makes the use of Ethereum blockchain."),r.a.createElement("h1",null,"The inevitable issue of smart contracts"),r.a.createElement("p",null,"Further research was done in order to find the absolute way of implementing this project and several trial-and-errors were done. Several drawbacks of smart contracts were discovered\u2014for each apropos features that were being implemented. The major issue with the project was discovering the fact that smart contracts cannot directly interact with external data outside the blockchain. This reemphasized how immutable smart contracts really are."),r.a.createElement("h1",null,"Current and future work"),r.a.createElement("p",null,"External adapters were implemented that would operate on Chainlink\u2019s node operators. These external adapters will acts as the 'bridge' between smart contracts and the external world thus enabling the XBORDER's true intention. Each node job is verified by series of decentralized oracles provided by Chainlink. These oracles provide the same security as a smart contract."),r.a.createElement("h1",null),r.a.createElement("h4",null,"To get in touch use the following social media platforms."),r.a.createElement("p",{className:"buttons is-centered"},r.a.createElement(ee.SocialMediaIconsReact,{icon:"reddit",size:44,roundness:30,url:"https://www.reddit.com/r/XBORDER"}),r.a.createElement(ee.SocialMediaIconsReact,{icon:"twitter",size:44,roundness:30,url:"https://twitter.com/XBORDER5"}),r.a.createElement(ee.SocialMediaIconsReact,{icon:"mail",size:44,roundness:30,url:"mailto:xborderofficial@gmail.com"}),r.a.createElement(ee.SocialMediaIconsReact,{icon:"linkedin",size:44,roundness:30,url:"https://www.linkedin.com/in/-muhammadhamza"}),r.a.createElement(ee.SocialMediaIconsReact,{icon:"github",size:44,roundness:30,url:"https://github.com/hamza3256"}))),r.a.createElement("br",null))}}]),a}(n.Component),ve=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={address:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(window.ethereum){var t=new v.a(window.ethereum);try{window.ethereum.enable().then((function(){e.setState({address:t.eth.accounts[0]}),setInterval((function(){t.eth.accounts[0]!==e.state.address&&e.setState({address:t.eth.accounts[0]})}),100)}))}catch(a){}}else window.location.href="/GetMetamask"}},{key:"render",value:function(){return r.a.createElement("p",null,"Profile Created",r.a.createElement("span",{class:"icon has-text-success"},r.a.createElement("i",{class:"fas fa-check-square"}))),r.a.createElement("p",null,"XBORDER Authorized",r.a.createElement("span",{class:"icon has-text-success"},r.a.createElement("i",{class:"fas fa-check-square"}))),r.a.createElement("p",null,"Signup Complete",r.a.createElement("span",{class:"icon has-text-success"},r.a.createElement("i",{class:"fas fa-check-square"}))),r.a.createElement("div",null,r.a.createElement("section",{class:"hero is-fullheight"},r.a.createElement(g,null),r.a.createElement("div",{class:"hero-body"},r.a.createElement("div",{class:"container has-text-centered"},r.a.createElement("div",{class:"column is-6 is-offset-3"},r.a.createElement("h3",{class:"title has-text-grey"},"Login"),r.a.createElement("p",{class:"subtitle has-text-grey"},"Login to access your dashboard"),r.a.createElement("div",{class:"box"},r.a.createElement("br",null),r.a.createElement("p",{className:"has-text-centered"},this.state.address),r.a.createElement("br",null),r.a.createElement(p.b,{to:"/dashboard"},r.a.createElement("button",{class:"button is-block is-info is-large is-fullwidth"},"Login"))))))))}}]),a}(n.Component),ge=a(18),ye=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={ethPrice:"Loading...",address:"",ethInputText:r.a.createElement("p",{className:"help"}),currency:"eth",modal:"",ethAmount:0,usdAmount:0,sellerAddress:"",addressInputText:r.a.createElement("p",{className:"help"}),name:"",info:"",url:""},n.loadProfileInfo=n.loadProfileInfo.bind(Object(ge.a)(n)),n.LoadEthPrice=n.LoadEthPrice.bind(Object(ge.a)(n)),n.updateAmountInputText=n.updateAmountInputText.bind(Object(ge.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(window.ethereum){var t=new v.a(window.ethereum);try{window.ethereum.enable().then((function(){t.eth.contract(w.a.abi).at(w.a.address);var a=t.eth.contract(w.a.profile_abi).at(w.a.profile_address);e.setState({address:t.eth.accounts[0],user_contract:a}),setInterval((function(){t.eth.accounts[0]!==e.state.address&&window.location.reload()}),100)}))}catch(a){}}else window.location.href="/login";this.LoadEthPrice()}},{key:"LoadEthPrice",value:function(){var e=this;fetch("https://api.gemini.com/v1/book/ethusd?limit_bids=1&limit_asks=1").then((function(e){return e.json()})).then((function(t){var a=Math.round((parseFloat(t.bids[0].price)+parseFloat(t.asks[0].price))/2*100)/100;e.setState({ethPrice:a})})).catch((function(e){return console.error(e)}))}},{key:"updateAmountInputText",value:function(){var e=document.getElementById("amount").value;if(this.checkAmountInputText())if("eth"===this.state.currency)this.setState({ethInputText:r.a.createElement("p",{className:"help"},e," ETH = US$ ",Math.round(e*this.state.ethPrice*100)/100),ethAmount:parseFloat(e)});else if("usd"===this.state.currency){var t=Math.round(e/this.state.ethPrice*1e7)/1e7;this.setState({usdAmount:e,ethInputText:r.a.createElement("p",{className:"help"},t," ETH = US$ ",e),ethAmount:parseFloat(t)})}}},{key:"checkAmountInputText",value:function(){var e=document.getElementById("amount").value;return String(parseFloat(e))===e&&String(parseFloat(e))>0}},{key:"activateModal",value:function(){if(!1!==this.checkAmountInputText())if(console.log(this.state.name),"Unregistered User"!==this.state.name){var e="eth"===this.state.currency?this.state.ethAmount:this.state.usdAmount;this.setState({url:"".concat(window.location.protocol,"//").concat(window.location.hostname,"/activity/send_payment/").concat(this.state.address,"/").concat(this.state.currency,"/").concat(e)})}else this.setState({addressInputText:r.a.createElement("p",{className:"help is-danger"},"Address is not registered. Please ask Receiver to set profile name.")});else this.setState({ethInputText:r.a.createElement("p",{className:"help is-danger"},"Input should be a positive number")})}},{key:"loadProfileInfo",value:function(){var e=this,t=new v.a(window.ethereum),a=t.eth.accounts[0];if(!1===t.isAddress(a))return console.log("address invalid"),void this.setState({addressInputText:r.a.createElement("p",{className:"help is-danger"},"Invalid ETH address")});this.state.user_contract.getProfileLength.call(a,(function(t,n){console.log("Length of profile info ".concat(n)),console.log("".concat(a)),0!==parseInt(n)?e.state.user_contract.ProfileDB.call(a,n-1,(function(t,n){e.setState({name:"hamza",info:n[1],sellerAddress:a,addressInputText:r.a.createElement("p",{className:"help is-info"},"Receiver name: ",n[0])})})):e.setState({name:"Unregistered User",info:"",addressInputText:r.a.createElement("p",{className:"help is-danger"},"Unregistered User. Please ",r.a.createElement(p.b,{to:"/activity/set_profile"},"set your profile")," before sending payment.")})}))}},{key:"render",value:function(){var e=this;"/profile/".concat(this.state.sellerAddress);return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("div",{className:"modal ".concat(this.state.modal)},r.a.createElement("div",{className:"modal-background",onClick:function(){return e.setState({modal:""})}}),r.a.createElement("div",{className:"modal-content"},r.a.createElement(Ne,{address:this.state.address,ethAmount:this.state.ethAmount,sellerAddress:this.state.sellerAddress})),r.a.createElement("button",{className:"modal-close is-large",onClick:function(){return e.setState({modal:""})}})),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container",style:{width:790}},r.a.createElement("a",{className:"has-text-left",onClick:function(){return window.history.back()}},"\u2190 Back")),r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:800}},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Create Invoice"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"1 ETH = US$ ",this.state.ethPrice)))),r.a.createElement("hr",null),r.a.createElement("label",{className:"label"},"Payment Amount"),r.a.createElement("div",{className:"field has-addons"},r.a.createElement("div",{className:"control"},r.a.createElement("span",{className:"select"},r.a.createElement("select",{id:"currency",name:"currency",onChange:function(){e.setState({currency:document.getElementById("currency").value,ethInputText:r.a.createElement("p",{className:"help"})}),document.getElementById("amount").value=""}},r.a.createElement("option",{value:"eth"},"ETH"),r.a.createElement("option",{value:"usd"},"USD")))),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Amount",id:"amount",onChange:this.updateAmountInputText}))),this.state.ethInputText,r.a.createElement("p",{className:"help"},"For invoice in USD, Senderwill pay equivalent amount in ETH at conversion rate at time of payment."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement("p",{className:"button is-primary",onClick:function(){return e.activateModal()}},r.a.createElement("span",null,"Generate Invoice Link"))),r.a.createElement("p",{className:"has-text-centered"},this.state.url))))}}]),a}(n.Component),Ne=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={buyerTxCount:"",sellerTxCount:"",escrowTxCount:"",buyerName:"",sellerName:"",escrowName:"",txt:"Confirm and Send payment"},n.loadProfileName=n.loadProfileName.bind(Object(ge.a)(n)),n.loadCount=n.loadCount.bind(Object(ge.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(console.log(this.props.sellerAddress),window.ethereum){var t=new v.a(window.ethereum);try{window.ethereum.enable().then((function(){var a=t.eth.contract(w.a.abi).at(w.a.address),n=t.eth.contract(w.a.profile_abi).at(w.a.profile_address);e.setState({contract:a,user_contract:n}),e.loadProfileName("buyer",t.eth.accounts[0]),e.loadProfileName("Receiver",e.props.sellerAddress),e.loadProfileName("escrow",w.a.escrowAddress),e.loadCount(t.eth.accounts[0],e.props.sellerAddress,w.a.escrowAddress)}))}catch(a){}}else window.location.href="/login"}},{key:"componentWillReceiveProps",value:function(){this.loadProfileName("Receiver",this.props.sellerAddress)}},{key:"SendPayment",value:function(){var e=this;this.state.contract.createPayment.sendTransaction(this.props.sellerAddress,this.state.address,"",{from:this.props.address,value:this.props.ethAmount*Math.pow(10,18),gas:35e4},(function(t,a){console.log(a),e.setState({txt:"Payment Sent"}),setInterval((function(){window.location.href="/dashboard"}),500)}))}},{key:"loadProfileName",value:function(e,t){var a=this;this.state.user_contract.getProfileLength.call(t,(function(n,r){0!==parseInt(r)&&(console.log("bb"),a.state.user_contract.ProfileDB.call(t,r-1,(function(t,n){switch(e){case"buyer":a.setState({buyerName:n});break;case"Receiver":a.setState({sellerName:n});break;case"escrow":a.setState({escrowName:n})}})))}))}},{key:"loadCount",value:function(e,t,a){var n=this;this.state.contract.getCustomerLedgerLength.call(e,(function(e,t){n.setState({buyerTxCount:parseInt(t)})})),this.state.contract.getMerchantLedgerLength.call(t,(function(e,t){n.setState({sellerTxCount:parseInt(t)})})),this.state.contract.getEscrowLedgerLength.call(a,(function(e,t){n.setState({escrowTxCount:parseInt(t)})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:850}},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Confirm Payment"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null)))),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-centered is-size-4"},"You are sending"),r.a.createElement("br",null),r.a.createElement("p",{className:"has-text-centered is-size-3"},this.props.ethAmount," ETH"),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-left"},r.a.createElement("b",null,"Payment from"),r.a.createElement("p",null,this.state.buyerName[0]),r.a.createElement("p",{className:"is-size-7"},this.props.address," (You)")),r.a.createElement("div",{className:"column is-narrow"},r.a.createElement("br",null),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-arrow-right"}))),r.a.createElement("div",{className:"column has-text-right"},r.a.createElement("b",null,"Payment to"),r.a.createElement("p",null,this.state.sellerName[0]),r.a.createElement("p",{className:"is-size-7"},this.props.sellerAddress),r.a.createElement("p",null))),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("b",null,"Escrowed By"),r.a.createElement("p",null,"XBORDER")),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement("a",{className:"button is-primary",onClick:function(){return e.SendPayment()}},r.a.createElement("span",null,this.state.txt))),r.a.createElement("hr",null),r.a.createElement("p",{className:"is-size-7"},"After payment, funds will be locked in escrow",r.a.createElement("br",null),"When your item is received, please release funds to Receiver in your dashboard",r.a.createElement("br",null),"If you require assistance, contact us at XBORDER@gmail.com")))}}]),a}(n.Component),we=(a(213),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={ethPrice:"Loading...",address:"",ethInputText:r.a.createElement("p",{className:"help"}),currency:"eth",modal:"",ethAmount:0,sellerAddress:"",addressInputText:r.a.createElement("p",{className:"help"}),name:"",info:""},n.loadProfileInfo=n.loadProfileInfo.bind(Object(ge.a)(n)),n.LoadEthPrice=n.LoadEthPrice.bind(Object(ge.a)(n)),n.updateAmountInputText=n.updateAmountInputText.bind(Object(ge.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(window.ethereum){var t=new v.a(window.ethereum);try{window.ethereum.enable().then((function(){t.eth.contract(w.a.abi).at(w.a.address);var a=t.eth.contract(w.a.profile_abi).at(w.a.profile_address);e.setState({address:t.eth.accounts[0],user_contract:a}),setInterval((function(){t.eth.accounts[0]!==e.state.address&&window.location.reload()}),100)}))}catch(a){}}else window.location.href="/login";this.LoadEthPrice()}},{key:"LoadEthPrice",value:function(){var e=this;fetch("https://api.gemini.com/v1/book/ethusd?limit_bids=1&limit_asks=1").then((function(e){return e.json()})).then((function(t){var a=Math.round((parseFloat(t.bids[0].price)+parseFloat(t.asks[0].price))/2*100)/100;e.setState({ethPrice:a})})).catch((function(e){return console.error(e)}))}},{key:"updateAmountInputText",value:function(){var e=document.getElementById("amount").value;if(this.checkAmountInputText())if("eth"===this.state.currency)this.setState({ethInputText:r.a.createElement("p",{className:"help"},e," ETH = US$ ",Math.round(e*this.state.ethPrice*100)/100),ethAmount:parseFloat(e)});else if("usd"===this.state.currency){var t=Math.round(e/this.state.ethPrice*1e7)/1e7;this.setState({ethInputText:r.a.createElement("p",{className:"help"},t," ETH = US$ ",e),ethAmount:parseFloat(t)})}}},{key:"checkAmountInputText",value:function(){var e=document.getElementById("amount").value;return String(parseFloat(e))===e&&String(parseFloat(e))>0}},{key:"activateModal",value:function(){if(!1!==this.checkAmountInputText()){var e=new v.a(window.ethereum),t=document.getElementById("selleraddress").value;if(!1===e.isAddress(t))return console.log("address invalid"),void this.setState({addressInputText:r.a.createElement("p",{className:"help is-danger"},"Invalid ETH address")});console.log(this.state.name),"Unregistered User"!==this.state.name?this.setState({modal:"is-active",sellerAddress:document.getElementById("selleraddress").value}):this.setState({addressInputText:r.a.createElement("p",{className:"help is-danger"},"Address is not registered. Please ask Receiver to set profile name.")})}else this.setState({ethInputText:r.a.createElement("p",{className:"help is-danger"},"Input should be a positive number")})}},{key:"loadProfileInfo",value:function(){var e=this,t=document.getElementById("selleraddress").value;if(!1===new v.a(window.ethereum).isAddress(t))return console.log("address invalid"),void this.setState({addressInputText:r.a.createElement("p",{className:"help is-danger"},"Invalid ETH address")});this.state.user_contract.getProfileLength.call(t,(function(a,n){console.log("Length of profile info ".concat(n)),console.log("".concat(t)),0!==parseInt(n)?e.state.user_contract.ProfileDB.call(t,n-1,(function(a,n){e.setState({name:n[0],info:n[1],sellerAddress:t,addressInputText:r.a.createElement("p",{className:"help is-info"},"Receiver name: ",n[0])})})):e.setState({name:"Unregistered User",info:"",addressInputText:r.a.createElement("p",{className:"help is-danger"},"Unregistered User. Please ask Receiver to register before sending payment.")})}))}},{key:"render",value:function(){var e=this,t="/profile?address=".concat(this.state.sellerAddress);return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("div",{className:"modal ".concat(this.state.modal)},r.a.createElement("div",{className:"modal-background",onClick:function(){return e.setState({modal:""})}}),r.a.createElement("div",{className:"modal-content"},r.a.createElement(xe,{address:this.state.address,ethAmount:this.state.ethAmount,sellerAddress:this.state.sellerAddress})),r.a.createElement("button",{className:"modal-close is-large",onClick:function(){return e.setState({modal:""})}})),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container",style:{width:790}},r.a.createElement("a",{className:"has-text-left",onClick:function(){return window.history.back()}},"\u2190 Back")),r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:800}},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Send ETH Payment"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"1 ETH = US$ ",this.state.ethPrice)))),r.a.createElement("hr",null),r.a.createElement("label",{className:"label"},"Payment Amount"),r.a.createElement("div",{className:"field has-addons"},r.a.createElement("div",{className:"control"},r.a.createElement("span",{className:"select"},r.a.createElement("select",{id:"currency",name:"currency",onChange:function(){e.setState({currency:document.getElementById("currency").value,ethInputText:r.a.createElement("p",{className:"help"})}),document.getElementById("amount").value=""}},r.a.createElement("option",{value:"eth"},"ETH"),r.a.createElement("option",{value:"usd"},"USD")))),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Amount",id:"amount",onChange:this.updateAmountInputText}))),this.state.ethInputText,r.a.createElement("br",null),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Pay To Address"),r.a.createElement("div",{className:"control has-icons-left has-icons-right",style:{width:500}},r.a.createElement("input",{className:"input",type:"text",placeholder:"0xeb77a63131254d76121063128AC7Fa985bb00Eb3",id:"selleraddress",onChange:function(){return e.loadProfileInfo()}}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-user"}))),this.state.addressInputText,r.a.createElement("br",null),r.a.createElement(p.b,{to:t,target:"_blank"},r.a.createElement("p",{className:"button is-primary is-small"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"far fa-user"})),r.a.createElement("span",null,"View Receiver's Profile")))),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement("p",{className:"button is-primary",onClick:function(){return e.activateModal()}},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"far fa-user"})),r.a.createElement("span",null,"Next"))),r.a.createElement("p",{className:"has-text-centered is-size-7"},"You will be asked to confirm your payment on the next page"))))}}]),a}(n.Component)),xe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={buyerTxCount:"",sellerTxCount:"",escrowTxCount:"",buyerName:"",sellerName:"",escrowName:"",txt:"Confirm and Send payment"},n.loadProfileName=n.loadProfileName.bind(Object(ge.a)(n)),n.loadCount=n.loadCount.bind(Object(ge.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(console.log(this.props.sellerAddress),window.ethereum){var t=new v.a(window.ethereum);try{window.ethereum.enable().then((function(){var a=t.eth.contract(w.a.abi).at(w.a.address),n=t.eth.contract(w.a.profile_abi).at(w.a.profile_address);e.setState({contract:a,user_contract:n}),e.loadProfileName("buyer",t.eth.accounts[0]),e.loadProfileName("Receiver",e.props.sellerAddress),e.loadProfileName("escrow",w.a.escrowAddress),e.loadCount(t.eth.accounts[0],e.props.sellerAddress,w.a.escrowAddress)}))}catch(a){}}else window.location.href="/login"}},{key:"componentWillReceiveProps",value:function(){this.loadProfileName("Receiver",this.props.sellerAddress)}},{key:"SendPayment",value:function(){var e=this;this.setState({txt:"Metamask Payment Confirmation..."}),this.state.contract.createPayment.sendTransaction(this.props.sellerAddress,w.a.escrowAddress,"",{from:this.props.address,value:this.props.ethAmount*Math.pow(10,18),gas:35e4,gasPrice:88e9},(function(t,a){t?e.setState({txt:"Confirm and Send Payment"}):(console.log(a),e.setState({txt:"Payment Sent"}),setInterval((function(){window.location.href="/dashboard"}),1e3))}))}},{key:"loadProfileName",value:function(e,t){var a=this;this.state.user_contract.getProfileLength.call(t,(function(n,r){0!==parseInt(r)&&(console.log("bb"),a.state.user_contract.ProfileDB.call(t,r-1,(function(t,n){switch(e){case"buyer":a.setState({buyerName:n});break;case"Receiver":a.setState({sellerName:n});break;case"escrow":a.setState({escrowName:n})}})))}))}},{key:"loadCount",value:function(e,t,a){var n=this;this.state.contract.getCustomerLedgerLength.call(e,(function(e,t){n.setState({buyerTxCount:parseInt(t)})})),this.state.contract.getMerchantLedgerLength.call(t,(function(e,t){n.setState({sellerTxCount:parseInt(t)})})),this.state.contract.getEscrowLedgerLength.call(a,(function(e,t){n.setState({escrowTxCount:parseInt(t)})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:850}},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Confirm Payment"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null)))),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-centered is-size-4"},"You are sending"),r.a.createElement("br",null),r.a.createElement("p",{className:"has-text-centered is-size-3"},this.props.ethAmount," ETH"),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-left"},r.a.createElement("b",null,"Payment from"),r.a.createElement("p",null,this.state.buyerName[0]),r.a.createElement("p",{className:"is-size-7"},this.props.address," (You)")),r.a.createElement("div",{className:"column is-narrow"},r.a.createElement("br",null),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-arrow-right"}))),r.a.createElement("div",{className:"column has-text-right"},r.a.createElement("b",null,"Payment to"),r.a.createElement("p",null,this.state.sellerName[0]),r.a.createElement("p",{className:"is-size-7"},this.props.sellerAddress),r.a.createElement("p",null))),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("b",null,"Escrowed By"),r.a.createElement("p",null,"XBORDER")),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement("a",{className:"button is-primary",onClick:function(){return e.SendPayment()}},r.a.createElement("span",null,this.state.txt))),r.a.createElement("hr",null),r.a.createElement("p",{className:"is-size-7"},"After payment, funds will be locked in escrow",r.a.createElement("br",null),"When your item is received, please release funds to Receiver in your dashboard",r.a.createElement("br",null),"If you require assistance, contact us at XBORDER@gmail.com")))}}]),a}(n.Component),ke=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={address:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(window.ethereum){var t=new v.a(window.ethereum);try{window.ethereum.enable().then((function(){var a=t.eth.contract(w.a.abi).at(w.a.address);e.setState({address:t.eth.accounts[0],contract:a}),setInterval((function(){t.eth.accounts[0]!==e.state.address&&window.location.reload()}),100)}))}catch(a){}}else window.location.href="/login"}},{key:"SendPayment",value:function(){this.state.contract.createPayment.sendTransaction("0x0ea09dbf45047ad3c522435ffdee4f5e08e18ec9","0xC3B6eB22682d8D6620eb745e690E311d2dCCA0C2","",{from:this.state.address,value:.01*Math.pow(10,18),gas:35e4,gasPrice:88e9},(function(e,t){console.log(t)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container",style:{width:790}},r.a.createElement("a",{className:"has-text-left",onClick:function(){return window.history.back()}},"\u2190 Back")),r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:800}},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Confirm Payment"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null)))),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-centered is-size-4"},"You are sending"),r.a.createElement("br",null),r.a.createElement("p",{className:"has-text-centered is-size-3"},"217.50 DAI"),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-left"},r.a.createElement("b",null,"Payment from"),r.a.createElement("p",null,"userrr"),r.a.createElement("p",null,"88 completed payments")),r.a.createElement("div",{className:"column is-narrow"},r.a.createElement("br",null),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-arrow-right"}))),r.a.createElement("div",{className:"column has-text-right"},r.a.createElement("b",null,"Payment to"),r.a.createElement("p",null,"userrr"),r.a.createElement("p",null,"57 completed transactions"))),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("b",null,"Escrowed By"),r.a.createElement("p",null,"XBORDER"),r.a.createElement("p",null,"1385 transactions escrowed")),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement("a",{className:"button is-primary",onClick:function(){return e.SendPayment()}},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"far fa-user"})),r.a.createElement("span",null,"Confirm and Send payment"))))))}}]),a}(n.Component),Le=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={address:"",name:"",info:"",totalSentComplete:0,totalSentEth:0,totalSentInEscrow:0,totalSentInEscrowEth:0,totalTransfersEth:0,totalTransfersComplete:0,totalTransfersInEscrow:0,totalTransfersInEscrowEth:0,customerLedgerLength:0,customerLedger:[],merchantLedgerLength:0,merchantLedger:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.location.href,a=new URL(t).searchParams.get("address");if(this.setState({address:a}),window.ethereum){var n=new v.a(window.ethereum);try{window.ethereum.enable().then((function(){var t=n.eth.contract(w.a.abi).at(w.a.address),r=n.eth.contract(w.a.profile_abi).at(w.a.profile_address);e.setState({contract:t,profile_contract:r}),e.loadProfileInfo(),t.getCustomerLedgerLength.call(a,(function(n,r){e.setState({customerLedgerLength:parseInt(r)});for(var s=0;s<e.state.customerLedgerLength;s++)t.CustomerLedger.call(a,s,(function(a,n){t.getTransaction.call(n,(function(t,a){var r=L.returnTxMap(n,a),s=e.state.customerLedger;if(s.push(r),e.setState({customerLedger:s}),s.length===e.state.customerLedgerLength){for(var l=0,c=0,o=0,i=0,m=0;m<e.state.customerLedgerLength;m++)e.state.customerLedger[m].status===L.status()[0]||e.state.customerLedger[m].status===L.status()[3]?(i++,o+=e.state.customerLedger[m].value):(c++,l+=e.state.customerLedger[m].value);e.setState({totalSentEth:l,totalSentComplete:c,totalSentInEscrowEth:o,totalSentInEscrow:i})}}))}))})),t.getMerchantLedgerLength.call(a,(function(n,r){e.setState({merchantLedgerLength:parseInt(r)});for(var s=0;s<e.state.merchantLedgerLength;s++)t.MerchantLedger.call(a,s,(function(a,n){t.getTransaction.call(n,(function(t,a){var r=L.returnTxMap(n,a),s=e.state.merchantLedger;if(s.push(r),e.setState({merchantLedger:s}),s.length===e.state.merchantLedgerLength){for(var l=0,c=0,o=0,i=0,m=0;m<e.state.merchantLedgerLength;m++)e.state.merchantLedger[m].status===L.status()[0]||e.state.merchantLedger[m].status===L.status()[3]?(i++,o+=e.state.merchantLedger[m].value):(c++,l+=e.state.merchantLedger[m].value);e.setState({totalTransfersEth:l,totalTransfersComplete:c,totalTransfersInEscrowEth:o,totalTransfersInEscrow:i})}}))}))}))}))}catch(r){}}else window.location.href="/login"}},{key:"loadProfileInfo",value:function(){var e=this;this.state.profile_contract.getProfileLength.call(this.state.address,(function(t,a){0===parseInt(a)?e.setState({name:"",info:""}):e.state.profile_contract.ProfileDB.call(e.state.address,a-1,(function(t,a){e.setState({name:a[0],info:a[1]})}))}))}},{key:"render",value:function(){var e=this.state.name,t=this.state.info;return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container",style:{width:790}},r.a.createElement("a",{className:"has-text-left",onClick:function(){return window.history.back()}},"\u2190 Back")),r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:800}},r.a.createElement("p",{className:"has-text-centered is-size-3"},e,"'s profile"),r.a.createElement("p",{className:"has-text-centered"},"Joined 20/2/2019"),r.a.createElement("br",null),r.a.createElement("p",{className:"has-text-centered"},t),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-centered"},"Lifetime transactions"),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-left"},r.a.createElement("b",null,"SenderHistory"),r.a.createElement("p",null,"Total ETH spent: ",this.state.totalSentEth," ETH"),r.a.createElement("p",null,"Transactions Completed: ",this.state.totalSentComplete)),r.a.createElement("div",{className:"column is-narrow"},r.a.createElement("br",null)),r.a.createElement("div",{className:"column has-text-right"},r.a.createElement("b",null,"Receiver History"),r.a.createElement("p",null,"Total ETH received: ",this.state.totalTransfersEth," ETH"),r.a.createElement("p",null,"Transactions Completed: ",this.state.totalTransfersComplete))),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-centered"},"Current in escrow transactions"),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-left"},r.a.createElement("b",null,"Buyer"),r.a.createElement("p",null,"Amount unreleased: ",this.state.totalSentInEscrowEth," ETH"),r.a.createElement("p",null,"Transactions In Escrow: ",this.state.totalSentInEscrow)),r.a.createElement("div",{className:"column is-narrow"},r.a.createElement("br",null)),r.a.createElement("div",{className:"column has-text-right"},r.a.createElement("b",null,"Receiver"),r.a.createElement("p",null,"Amount receivable: ",this.state.totalTransfersInEscrowEth," ETH"),r.a.createElement("p",null,"Transactions in Escrow: ",this.state.totalTransfersInEscrow))))))}}]),a}(n.Component),Oe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("br",null),r.a.createElement("div",{className:"container",style:{width:800}},r.a.createElement("h1",{className:"is-size-3 has-text-centered"},"Setup XBORDER Profile")),r.a.createElement("br",null),r.a.createElement(Se,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement(p.b,{to:"/dashboard"},r.a.createElement("p",{className:"button is-primary"},"Back to Dashboard")),r.a.createElement("br",null),r.a.createElement("br",null)))}}]),a}(n.Component),Se=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={address:"",loading:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(window.ethereum){var t=new v.a(window.ethereum);try{window.ethereum.enable().then((function(){var a=t.eth.contract(w.a.profile_abi).at(w.a.profile_address),n=t.eth.contract(w.a.profile_abi).at(w.a.profile_address);e.setState({address:t.eth.accounts[0],contract:a,profile_contract:n}),setInterval((function(){t.eth.accounts[0]!==e.state.address&&window.location.reload()}),100)}))}catch(a){}}else this.props.history.push("/login")}},{key:"SetProfile",value:function(){var e=this,t=document.getElementById("nameinput").value,a=document.getElementById("infoinput").value;this.setState({loading:!0}),this.state.profile_contract.SetProfile.sendTransaction(t,a,{from:this.state.address,gas:35e4,gasPrice:88e9},(function(t,a){console.log("result"+a),console.log("error"+t),window.web3.eth.getTransaction(a,(function(t,a){a&&(console.log("result"+a),console.log("error"+t),window.location.href="/profile?address=".concat(e.state.address))}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"container box",style:{width:800}},r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("b",null,"Setup")),r.a.createElement("br",null),r.a.createElement("p",null,"Add name and information to your XBORDER profile for customers and receiver to identify you."),r.a.createElement("br",null),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},"Your address")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control"},r.a.createElement("input",{className:"input is-static",type:"email",value:this.state.address,readOnly:!0}))))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},"Name")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"*Required",id:"nameinput"}))))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},"Info")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control"},r.a.createElement("textarea",{className:"textarea",id:"infoinput",placeholder:"Optional. Place contact information here, such as a link to your forum profile or bio."}))))),r.a.createElement("br",null),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("button",{className:"button is-primary",onClick:function(){return e.SetProfile()}},"Update Profile"))))}}]),a}(n.Component),je=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"hero is-fullheight is-default is-bold"},r.a.createElement("div",{className:"hero-head"},r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("p",{className:"navbar-item"},"XBORDER"))))),r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("div",{className:"columns is-vcentered"},r.a.createElement("div",{className:"column is-5"},r.a.createElement("figure",{className:"image"},r.a.createElement("img",{src:"https://i1.wp.com/saedx.com/blog/wp-content/uploads/2019/01/saedx-blog-featured-70.jpg?zoom=1.25&fit=1200%2C500&ssl=1",alt:"Description"})))))))}}]),a}(n.Component),Te=a(102),Ce=a.n(Te),Ie=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("a",{href:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn"}," ",r.a.createElement("img",{className:"img-responsive",src:Ce.a,alt:"logo"}))}}]),a}(n.Component),Pe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleAddress=function(t){e.setState({address:t})},e.state={data:null},e.callBackendAPI=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/xborder");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.callBackendAPI().then((function(t){return e.setState({data:t.express})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(Z,null),r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/",exact:!0,component:ie}),r.a.createElement(E.a,{path:"/dashboard",exact:!0,component:R}),r.a.createElement(E.a,{path:"/info",exact:!0,component:be}),r.a.createElement(E.a,{path:"/login",exact:!0,component:ve}),r.a.createElement(E.a,{path:"/activity/transaction/:type/:id",exact:!0,component:A}),r.a.createElement(E.a,{path:"/activity/create_invoice/:address",exact:!0,component:ye}),r.a.createElement(E.a,{path:"/activity/send_payment",exact:!0,component:we}),r.a.createElement(E.a,{path:"/activity/send_payment/:address/:currency/:amount",exact:!0,component:we}),r.a.createElement(E.a,{path:"/activity/confirm_payment",exact:!0,component:ke}),r.a.createElement(E.a,{path:"/activity/set_profile",exact:!0,component:Oe}),r.a.createElement(E.a,{path:"/profile",exact:!0,component:Le}),r.a.createElement(E.a,{path:"/getMetamask",exact:!0,component:Ie}),r.a.createElement(E.a,{component:je})))}}]),a}(n.Component),Re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ae(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function Me(){var e=Object(F.a)(["\n  body {\n    font-family: 'Inter', sans-serif;\n    color: #0d0c22;\n  }\n\n  .btn {\n    padding: 10px 20px;\n    border-radius: 5px ;\n    border: none;\n    font-weight: 500;\n    display: inline-block;\n  }\n \n\n  .btn-primary {\n    background-color: #002C73;\n  }\n  \n\n  .btn-primary:hover, .btn-primary:focus, .btn-primary.focus {\n    background-color: #d1b22e;\n    box-shadow: none;\n  }\n\n  .btn-primary:not(:disabled):not(.disabled).active:focus, .btn-primary:not(:disabled):not(.disabled):active:focus, .show>.btn-primary.dropdown-toggle:focus {\n    box-shadow: none;\n  }\n\n  .btn-primary:not(:disabled):not(.disabled).active, .btn-primary:not(:disabled):not(.disabled):active, .show>.btn-primary.dropdown-toggle {\n    background-color: #6259ff;\n    outline: none;\n    box-shadow: none;\n  }\n\n  ::selection {\n    color: #fff;\n    color: rgba(255,255,255,0.85);\n    background: #ea4c89;\n  }\n\n  .card-img-overlay {\n    padding: 0.2rem 1.15rem;\n  }\n"]);return Me=function(){return e},e}var Be=Object(H.a)(Me());l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Be,null),r.a.createElement(Pe,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Re?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ae(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Ae(e)}))}}()}},[[104,1,2]]]);
//# sourceMappingURL=main.4de45b6d.chunk.js.map